{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>{% block title %}Auctions{% endblock %}</title>
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
			integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
			crossorigin="anonymous"
		/>
		<link href="{% static 'auctions/styles.css' %}" rel="stylesheet" />
	</head>
	<body>
		{% if message %}
		<div>{{ message }}</div>
		{% endif %}
		<main class="login-page" id="main">
			<a href="{% url 'index' %}" class="auction-logo-auth">
				<img
					src="http://localhost:8000/static/auctions/media/auctions.svg"
					alt=""
				/>
			</a>

			<div class="login-header">
				<h1>Créer votre compte</h1>
				<span
					>Se connecter à Auction ou
					<a href="{% url 'register' %}">Créer un compte.</a></span
				>
			</div>

			<div class="login-container">
				<div class="login flex column align-center">
					<div class="login-body flex column">
						<form action="{% url 'login' %}" method="post">
							{% csrf_token %}
							<div class="">
								<input
									class="myform-control"
									type="text"
									name="username"
									id="username"
									placeholder="Username"
								/>
							</div>
							<div class="">
								<input
									class="myform-control"
									type="password"
									name="password"
									id="password"
									placeholder="Password"
								/>
							</div>

							<input
								class="btn-register"
								type="submit"
								value="Log in"
								disabled
							/>
						</form>
						<div class="separator separator-login">
							<hr />
							<span>ou</span>
							<hr />
						</div>
						<div class="big-tech">
							<a class="big-tech-btn flex tech-gap1" href="#">
								<img
									src="http://localhost:8000/static/auctions/media/google.svg"
									alt=""
								/>
								<span>Continuer avec Google</span>
							</a>
							<a class="big-tech-btn flex tech-gap2" href="#">
								<img
									src="http://localhost:8000/static/auctions/media/facebook.svg"
									alt=""
								/>
								<span>Continuer avec Facebook</span>
							</a>
							<a
								class="big-tech-btn flex align-center tech-gap3"
								href="#"
							>
								<img
									src="http://localhost:8000/static/auctions/media/apple.svg"
									alt=""
								/>
								<span>Continuer avec Apple</span>
							</a>
						</div>
					</div>
				</div>
			</div>
		</main>
	</body>
	<script>
		const email = document.querySelector("#email");
		const password = document.querySelector("#password");
		const submitBtn = document.querySelector(".btn-register");

		function isInputsValid() {
			return (
				username.value.trim() !== "" && // Added condition for username
				password.value.trim() !== ""
			);
		}

		function updateSubmitBtn() {
			const isValid = isInputsValid(); // Store the validity check result
			submitBtn.disabled = !isValid;

			if (isValid) {
				submitBtn.style.backgroundColor = "#3665F3"; // Corrected property name
			}
		}

		username.addEventListener("input", updateSubmitBtn); // Add event listener for username
		password.addEventListener("input", updateSubmitBtn);

		username.addEventListener("change", updateSubmitBtn); // Add event listener for username
		password.addEventListener("change", updateSubmitBtn);
	</script>
	<footer>
		<div class="footer-container3">
			<div class="footer-term-div3 flex justify-center">
				<span
					>Copyright © 1995-2023 eBay Inc. Tous droits réservés.
					<a class="footer-term" href="">Conditions d'utilisation</a>,
					<a class="footer-term" href=""
						>Avis sur les données personnelles</a
					>,
					<a class="footer-term" href=""
						>Conditions d'utilisation des services de paiement</a
					>, <a class="footer-term" href="">cookies</a> et
					<a class="footer-term" href="">AdChoice</a>
				</span>
			</div>
		</div>
	</footer>
</html>
